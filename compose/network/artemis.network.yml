version: "3.8"

services:
  node-proxy:
    image: mgarnier11/node-proxy
    container_name: node-proxy
    restart: unless-stopped
    network_mode: host
    env_file:
      - ../../ports.env
    environment:
      - AUTO_RELOAD_CONFIG=true
      - CONFIG_FILE=/config/config.json
      - API_PORT=${ARTEMIS_NODE_PROXY_PORT}
    volumes:
      - node_proxy_config:/config
    annotations:
      traefik-ports: ARTEMIS_NODE_PROXY_PORT
